@import 'mixins'

#app .messages > article
  box-flex(1)
  box-shadow: inset 1px 1px 2px rgba(0, 0, 0, 0.1)
  background: #F4F4F4
  vbox()
  
  > header
    border-bottom: 1px solid rgba(0, 0, 0, 0.2)
    vbg-gradient(lighten(#F4F4F4, 10%), darken(#F4F4F4, 5%))
    box-shadow(1px, 1px, 2px, rgba(0, 0, 0, 0.1))
    height: 35px
    line-height: 35px
    
    font-weight: bold
    text-shadow: 0 1px 1px white
    font-size: 14px
    
    span
      display: block
      float: left
      padding: 0 20px
      cursor: pointer
      border-right: 1px solid rgba(0, 0, 0, 0.15)
      inset-box-shadow(1px, 0, 1px, rgba(255, 255, 255, 0.5))
      color: lighten(#52585D, 20%)
      
      &:active
        box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3)
        border-right: 1px solid rgba(0, 0, 0, 0.2)
        border-bottom: 1px solid rgba(0, 0, 0, 0.04)
        
    .participants
      display: block
      float: left
      padding: 0 12px
      color: lighten(#52585D, 20%)      
  
  .items
    padding: 25px 30px 0 30px
    overflow-x: auto
    -webkit-overflow-scrolling: touch
    box-flex(1)
  
  .item
    position: relative
    margin: 0 65px 10px
    max-width: 600px
    
    img
      position: absolute
      top: 0
      left: -70px
      width: 42px
      height: 42px
      border-radius(5px)
      box-shadow(0px, 1px, 2px, rgba(0, 0, 0, 0.4))
      
    nav
      float: right
      padding: 5px
      
      .star
        display: block
        width: 15px
        height: 15px
        opacity: 0.7
        background: url(/assets/star.png) center center no-repeat
        background-size: 15px 15px
        opacity: 0
        transition(0.2s)
        -webkit-transition-delay: 0.3s
        
        &:active, &.active
          background: url(/assets/stard.png) center center no-repeat
          background-size: 15px 15px
          opacity: 1
        
    &:hover nav .star
      opacity: 1
    
    .body
      border-box()
      padding: 12px
      background: #FFF
      box-shadow(0px, 1px, 2px, rgba(0, 0, 0, 0.2))
      border-radius(5px)
      -webkit-user-select: text
      outline: none
      
      &::before
        content: ''
        background: url(/assets/larrow.png) no-repeat center center
        width: 12px
        height: 22px
        position: absolute
        left: -12px
        top: 10px      
        
  .item.me  
    img
      left: auto
      right: -70px
      
    .body
      &::before
        display: none
    
      &::after
        content: ''
        background: url(/assets/rarrow.png) no-repeat center center
        width: 12px
        height: 22px
        position: absolute
        right: -12px
        top: 10px
        

  .compose
    padding: 10px 30px 5px 30px
    position: relative

    .body
      background: lighten(#F4F4F4, 70%)

    textarea
      height: 28px
      border-box()
      width: 100%
      border: 0
      resize: none
      box-shadow: none
      background: transparent
      padding: 0
      color: #000
      text-rendering: optimizeLegibility
      -webkit-font-smoothing: antialiased
      font: 15px "helvetica neue", helvetica, arial, sans-serif
      
    .input
      outline: none
      min-height: 28px
      border-box()
      width: 100%
      color: #000
      text-rendering: optimizeLegibility
      -webkit-font-smoothing: antialiased
      font: 15px "helvetica neue", helvetica, arial, sans-serif
      
    button
      position: absolute
      right: 5px
      bottom: 5px
      font-size: 10px
      
      opacity: 0.4
      transition()
      &:hover
        opacity: 1
